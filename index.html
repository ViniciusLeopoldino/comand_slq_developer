<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia Interativo de Comandos Oracle SQL</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
      body {
          font-family: 'Inter', sans-serif;
      }
      .nav-link.active {
          background-color: #16a34a;
          color: white;
          font-weight: 600;
      }
      ::-webkit-scrollbar { width: 8px; }
      ::-webkit-scrollbar-track { background: #1f2937; }
      ::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 4px; }
      ::-webkit-scrollbar-thumb:hover { background: #6b7280; }
      pre { white-space: pre-wrap; word-wrap: break-word; }
      .token-exemplo {
          color: #ef4444; /* red-500 */
          font-weight: 500;
      }
    </style>
</head>
<body class="bg-gray-900 text-gray-300 flex flex-col min-h-screen">

    <div class="flex flex-col md:flex-row flex-1">
        <aside class="w-full md:w-64 bg-gray-800 shadow-xl p-4 md:p-6">
            <h1 class="text-2xl font-bold text-green-400 mb-6">Oracle SQL</h1>
            <nav id="navigation" class="space-y-2">
                <a href="#dml" class="nav-link block px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-green-400 transition-colors duration-200">DML</a>
                <a href="#ddl" class="nav-link block px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-green-400 transition-colors duration-200">DDL</a>
                <a href="#dcl" class="nav-link block px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-green-400 transition-colors duration-200">DCL</a>
                <a href="#tcl" class="nav-link block px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-green-400 transition-colors duration-200">TCL</a>
                <a href="#functions" class="nav-link block px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-green-400 transition-colors duration-200">Funções</a>
                <a href="#triggers" class="nav-link block px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-green-400 transition-colors duration-200">Triggers</a>
                <a href="#packages" class="nav-link block px-4 py-2 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-green-400 transition-colors duration-200">Packages</a>
            </nav>
        </aside>

        <main class="flex-1 p-4 md:p-10">
            <header class="mb-8">
                <h2 class="text-3xl md:text-4xl font-bold text-white">Guia Interativo de Comandos</h2>
                <p class="text-gray-400 mt-2">Um guia de referência rápido para os comandos mais importantes do Oracle SQL.</p>
                <div class="mt-6 relative">
                    <input type="text" id="searchInput" placeholder="Pesquisar comando (ex: SELECT, CREATE...)" class="w-full p-3 pl-10 bg-gray-700 border border-gray-600 text-gray-200 placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition">
                    <svg class="w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </div>
            </header>

            <div id="content-sections">
                <section id="dml" class="content-section">
                    <h3 class="text-2xl font-semibold text-gray-100 mb-2 border-b-2 border-green-500 pb-2">Linguagem de Manipulação de Dados (DML)</h3>
                    <p class="text-gray-400 mb-6">Comandos usados para gerenciar dados dentro dos objetos do banco de dados.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="SELECT">
                            <h4 class="text-xl font-bold text-green-400">SELECT</h4>
                            <p class="mt-2 text-gray-400">Recupera dados de uma ou mais tabelas.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>SELECT nome, salario FROM empregados WHERE id_departamento = 10;</code></pre>
                        </div>
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="INSERT">
                            <h4 class="text-xl font-bold text-green-400">INSERT</h4>
                            <p class="mt-2 text-gray-400">Adiciona novas linhas de dados a uma tabela.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>INSERT INTO empregados (id, nome, salario) VALUES (101, 'Ana', 5000);</code></pre>
                        </div>
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="UPDATE">
                            <h4 class="text-xl font-bold text-green-400">UPDATE</h4>
                            <p class="mt-2 text-gray-400">Modifica dados existentes em uma tabela.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>UPDATE empregados SET salario = 5500 WHERE id = 101;</code></pre>
                        </div>
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="DELETE">
                            <h4 class="text-xl font-bold text-green-400">DELETE</h4>
                            <p class="mt-2 text-gray-400">Remove linhas de uma tabela.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>DELETE FROM empregados WHERE id = 101;</code></pre>
                        </div>
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="MERGE">
                            <h4 class="text-xl font-bold text-green-400">MERGE</h4>
                            <p class="mt-2 text-gray-400">Executa operações de INSERT ou UPDATE com base em uma condição.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>MERGE INTO bonus b USING empregados e ON (b.id_empregado = e.id) WHEN MATCHED THEN UPDATE SET b.valor = e.salario * 0.1 WHEN NOT MATCHED THEN INSERT (id_empregado, valor) VALUES (e.id, e.salario * 0.05);</code></pre>
                        </div>
                    </div>
                </section>

                <section id="ddl" class="content-section hidden">
                    <h3 class="text-2xl font-semibold text-gray-100 mb-2 border-b-2 border-green-500 pb-2">Linguagem de Definição de Dados (DDL)</h3>
                    <p class="text-gray-400 mb-6">Comandos usados para definir e gerenciar a estrutura dos objetos do banco de dados.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="CREATE">
                            <h4 class="text-xl font-bold text-green-400">CREATE</h4>
                            <p class="mt-2 text-gray-400">Cria objetos no banco de dados, como tabelas, views, etc.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>CREATE TABLE projetos (id NUMBER PRIMARY KEY, nome VARCHAR2(100), data_inicio DATE);</code></pre>
                        </div>
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="ALTER">
                            <h4 class="text-xl font-bold text-green-400">ALTER</h4>
                            <p class="mt-2 text-gray-400">Modifica a estrutura de um objeto existente.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>ALTER TABLE projetos ADD (orcamento NUMBER(10, 2));</code></pre>
                        </div>
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="DROP">
                            <h4 class="text-xl font-bold text-green-400">DROP</h4>
                            <p class="mt-2 text-gray-400">Remove permanentemente um objeto do banco de dados.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>DROP TABLE projetos;</code></pre>
                        </div>
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="TRUNCATE">
                            <h4 class="text-xl font-bold text-green-400">TRUNCATE</h4>
                            <p class="mt-2 text-gray-400">Remove todas as linhas de uma tabela rapidamente.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>TRUNCATE TABLE logs_antigos;</code></pre>
                        </div>
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="RENAME">
                            <h4 class="text-xl font-bold text-green-400">RENAME</h4>
                            <p class="mt-2 text-gray-400">Renomeia um objeto.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>RENAME projetos TO projetos_ativos;</code></pre>
                        </div>
                    </div>
                </section>

                <section id="dcl" class="content-section hidden">
                    <h3 class="text-2xl font-semibold text-gray-100 mb-2 border-b-2 border-green-500 pb-2">Linguagem de Controle de Dados (DCL)</h3>
                    <p class="text-gray-400 mb-6">Comandos usados para controlar o acesso aos dados.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="GRANT">
                            <h4 class="text-xl font-bold text-green-400">GRANT</h4>
                            <p class="mt-2 text-gray-400">Concede privilégios a um usuário ou role.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>GRANT SELECT, INSERT ON empregados TO usuario_relatorios;</code></pre>
                        </div>
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="REVOKE">
                            <h4 class="text-xl font-bold text-green-400">REVOKE</h4>
                            <p class="mt-2 text-gray-400">Remove privilégios de um usuário ou role.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>REVOKE INSERT ON empregados FROM usuario_relatorios;</code></pre>
                        </div>
                    </div>
                </section>

                <section id="tcl" class="content-section hidden">
                    <h3 class="text-2xl font-semibold text-gray-100 mb-2 border-b-2 border-green-500 pb-2">Controle de Transação (TCL)</h3>
                    <p class="text-gray-400 mb-6">Comandos usados para gerenciar as transações no banco de dados.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="COMMIT">
                            <h4 class="text-xl font-bold text-green-400">COMMIT</h4>
                            <p class="mt-2 text-gray-400">Salva permanentemente todas as alterações da transação atual.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>UPDATE contas SET saldo = saldo - 100 WHERE id = 1; COMMIT;</code></pre>
                        </div>
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="ROLLBACK">
                            <h4 class="text-xl font-bold text-green-400">ROLLBACK</h4>
                            <p class="mt-2 text-gray-400">Desfaz todas as alterações da transação atual.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>DELETE FROM pedidos_temp; ROLLBACK;</code></pre>
                        </div>
                         <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="SAVEPOINT">
                            <h4 class="text-xl font-bold text-green-400">SAVEPOINT</h4>
                            <p class="mt-2 text-gray-400">Define um ponto dentro de uma transação para o qual se pode retornar.</p>
                            <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>SAVEPOINT ponto_a; ... ROLLBACK TO SAVEPOINT ponto_a;</code></pre>
                        </div>
                    </div>
                </section>

                <section id="functions" class="content-section hidden">
                    <h3 class="text-2xl font-semibold text-gray-100 mb-2 border-b-2 border-green-500 pb-2">Funções Comuns</h3>
                    <p class="text-gray-400 mb-6">Funções integradas para manipulação de diferentes tipos de dados.</p>
                    <div class="space-y-6">
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="UPPER LOWER SUBSTR INSTR LENGTH">
                            <h4 class="text-xl font-bold text-green-400">Funções de String</h4>
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-6 gap-y-4 mt-4">
                                <div><p class="text-gray-400"><code>UPPER</code>: Converte para maiúsculas.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT UPPER(nome) FROM clientes;</code></pre></div>
                                <div><p class="text-gray-400"><code>LOWER</code>: Converte para minúsculas.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT LOWER(email) FROM clientes;</code></pre></div>
                                <div><p class="text-gray-400"><code>SUBSTR</code>: Extrai uma substring.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT SUBSTR('Oracle SQL', 1, 6) FROM dual;</code></pre></div>
                                <div><p class="text-gray-400"><code>INSTR</code>: Encontra a posição de uma substring.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT INSTR('Oracle SQL', 'SQL') FROM dual;</code></pre></div>
                                <div><p class="text-gray-400"><code>LENGTH</code>: Retorna o comprimento.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT LENGTH(nome) FROM produtos;</code></pre></div>
                            </div>
                        </div>
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="ROUND TRUNC MOD">
                            <h4 class="text-xl font-bold text-green-400">Funções Numéricas</h4>
                             <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-6 gap-y-4 mt-4">
                                <div><p class="text-gray-400"><code>ROUND</code>: Arredonda um número.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT ROUND(15.19, 1) FROM dual;</code></pre></div>
                                <div><p class="text-gray-400"><code>TRUNC</code>: Trunca um número.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT TRUNC(15.79) FROM dual;</code></pre></div>
                                <div><p class="text-gray-400"><code>MOD</code>: Retorna o resto de uma divisão.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT MOD(10, 3) FROM dual;</code></pre></div>
                            </div>
                        </div>
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="SYSDATE ADD_MONTHS MONTHS_BETWEEN LAST_DAY">
                            <h4 class="text-xl font-bold text-green-400">Funções de Data</h4>
                             <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-6 gap-y-4 mt-4">
                                <div><p class="text-gray-400"><code>SYSDATE</code>: Data e hora atuais.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT SYSDATE FROM dual;</code></pre></div>
                                <div><p class="text-gray-400"><code>ADD_MONTHS</code>: Adiciona meses a uma data.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT ADD_MONTHS(SYSDATE, 3) FROM dual;</code></pre></div>
                                <div><p class="text-gray-400"><code>MONTHS_BETWEEN</code>: Meses entre datas.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT MONTHS_BETWEEN(SYSDATE, '01-JAN-2023') FROM dual;</code></pre></div>
                                <div><p class="text-gray-400"><code>LAST_DAY</code>: Último dia do mês.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT LAST_DAY(SYSDATE) FROM dual;</code></pre></div>
                            </div>
                        </div>
                         <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="TO_CHAR TO_DATE TO_NUMBER">
                            <h4 class="text-xl font-bold text-green-400">Funções de Conversão</h4>
                             <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-6 gap-y-4 mt-4">
                                <div><p class="text-gray-400"><code>TO_CHAR</code>: Converte para string.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT TO_CHAR(SYSDATE, 'DD/MM/YYYY') FROM dual;</code></pre></div>
                                <div><p class="text-gray-400"><code>TO_DATE</code>: Converte string para data.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT TO_DATE('25/12/2023', 'DD/MM/YYYY') FROM dual;</code></pre></div>
                                <div><p class="text-gray-400"><code>TO_NUMBER</code>: Converte string para número.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT TO_NUMBER('123.45') FROM dual;</code></pre></div>
                            </div>
                        </div>
                        <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="COUNT SUM AVG MAX MIN">
                            <h4 class="text-xl font-bold text-green-400">Funções Agregadas</h4>
                             <div class="grid grid-cols-1 lg:grid-cols-2 gap-x-6 gap-y-4 mt-4">
                                <div><p class="text-gray-400"><code>COUNT</code>: Conta o número de linhas.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT COUNT(*) FROM empregados;</code></pre></div>
                                <div><p class="text-gray-400"><code>SUM</code>: Soma os valores.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT SUM(salario) FROM empregados;</code></pre></div>
                                <div><p class="text-gray-400"><code>AVG</code>: Calcula a média.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT AVG(salario) FROM empregados;</code></pre></div>
                                <div><p class="text-gray-400"><code>MAX</code>: Retorna o valor máximo.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT MAX(salario) FROM empregados;</code></pre></div>
                                <div><p class="text-gray-400"><code>MIN</code>: Retorna o valor mínimo.</p><pre class="mt-1 bg-gray-900 p-2 rounded-md text-xs"><code>SELECT MIN(salario) FROM empregados;</code></pre></div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="triggers" class="content-section hidden">
                    <h3 class="text-2xl font-semibold text-gray-100 mb-2 border-b-2 border-green-500 pb-2">Triggers (Gatilhos)</h3>
                    <p class="text-gray-400 mb-6">Um trigger é um bloco de código PL/SQL que é executado automaticamente em resposta a um evento específico (como INSERT, UPDATE ou DELETE) em uma tabela.</p>
                    <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="TRIGGER">
                        <h4 class="text-xl font-bold text-green-400">Estrutura de um Trigger</h4>
                        <pre class="mt-4 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>CREATE OR REPLACE TRIGGER nome_do_trigger
{BEFORE | AFTER} {INSERT | UPDATE | DELETE} ON nome_da_tabela
FOR EACH ROW
BEGIN
   -- Lógica do trigger
   -- :NEW se refere ao novo valor da linha
   -- :OLD se refere ao valor antigo da linha
END;
/</code></pre>
                        <h4 class="text-xl font-bold text-green-400 mt-6">Exemplo Prático</h4>
                        <p class="mt-2 text-gray-400">Este trigger cria um log toda vez que o salário de um empregado é alterado.</p>
                        <p class="mt-4 font-semibold text-gray-200">1. Crie a tabela de log:</p>
                        <pre class="mt-2 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>CREATE TABLE log_salarios (
    id_log NUMBER GENERATED ALWAYS AS IDENTITY,
    id_empregado NUMBER,
    salario_antigo NUMBER,
    salario_novo NUMBER,
    data_modificacao DATE,
    PRIMARY KEY(id_log)
);</code></pre>
                        <p class="mt-4 font-semibold text-gray-200">2. Crie o Trigger:</p>
                        <pre class="mt-2 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>CREATE OR REPLACE TRIGGER trg_log_mudanca_salario
AFTER UPDATE OF salario ON empregados
FOR EACH ROW
WHEN (NEW.salario <> OLD.salario)
BEGIN
    INSERT INTO log_salarios (id_empregado, salario_antigo, salario_novo, data_modificacao)
    VALUES (:OLD.id, :OLD.salario, :NEW.salario, SYSDATE);
END;
/</code></pre>
                    </div>
                </section>

                <section id="packages" class="content-section hidden">
                    <h3 class="text-2xl font-semibold text-gray-100 mb-2 border-b-2 border-green-500 pb-2">Packages (Pacotes)</h3>
                    <p class="text-gray-400 mb-6">Packages são "containers" do Oracle que agrupam de forma lógica procedures, functions, variáveis e outros construtos PL/SQL relacionados a um mesmo assunto. Eles melhoram a organização, performance e segurança do código.</p>
                    <div class="command-card bg-gray-800 p-6 rounded-xl shadow-lg" data-command="PACKAGE SPECIFICATION BODY PROCEDURE FUNCTION CREATE OR REPLACE">
                        <h4 class="text-xl font-bold text-green-400">Estrutura e Exemplo Prático</h4>
                        <p class="mt-2 text-gray-400">Um package é sempre dividido em duas partes: a <span class="font-semibold text-green-400">Specification</span> (pública) e o <span class="font-semibold text-green-400">Body</span> (implementação privada). Vamos criar um package para gerenciar uma tabela de empregados.</p>

                        <p class="mt-6 font-semibold text-gray-200">Passo 1: Criar a Tabela de Exemplo</p>
                        <pre class="mt-2 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>CREATE TABLE empregados (
    id_empregado NUMBER GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    nome VARCHAR2(100) NOT NULL,
    salario NUMBER(10, 2) NOT NULL,
    data_contratacao DATE DEFAULT SYSDATE
);</code></pre>

                        <p class="mt-6 font-semibold text-gray-200">Passo 2: Criar a Package Specification (A Interface Pública)</p>
                        <p class="mt-1 text-gray-400 text-sm">Aqui apenas declaramos o que o package oferecerá, sem mostrar a lógica interna.</p>
                        <pre class="mt-2 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>CREATE OR REPLACE PACKAGE pkg_gerencia_empregados AS

    -- Adiciona um novo empregado
    PROCEDURE adicionar_empregado (
        p_nome    IN VARCHAR2,
        p_salario IN NUMBER
    );

    -- Atualiza o salário de um empregado
    PROCEDURE atualizar_salario (
        p_id_empregado IN NUMBER,
        p_novo_salario IN NUMBER
    );

    -- Retorna o salário de um empregado
    FUNCTION obter_salario (
        p_id_empregado IN NUMBER
    ) RETURN NUMBER;

END pkg_gerencia_empregados;
/</code></pre>
                        
                        <p class="mt-6 font-semibold text-gray-200">Passo 3: Criar o Package Body (A Implementação)</p>
                        <p class="mt-1 text-gray-400 text-sm">Este é o "motor" do package, contendo o código que executa as tarefas.</p>
                        <pre class="mt-2 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>CREATE OR REPLACE PACKAGE BODY pkg_gerencia_empregados AS

    PROCEDURE adicionar_empregado (p_nome IN VARCHAR2, p_salario IN NUMBER) AS
    BEGIN
        INSERT INTO empregados (nome, salario) VALUES (p_nome, p_salario);
        COMMIT;
    END adicionar_empregado;

    PROCEDURE atualizar_salario (p_id_empregado IN NUMBER, p_novo_salario IN NUMBER) AS
    BEGIN
        UPDATE empregados SET salario = p_novo_salario WHERE id_empregado = p_id_empregado;
        COMMIT;
    END atualizar_salario;

    FUNCTION obter_salario (p_id_empregado IN NUMBER) RETURN NUMBER AS
        v_salario empregados.salario%TYPE;
    BEGIN
        SELECT salario INTO v_salario FROM empregados WHERE id_empregado = p_id_empregado;
        RETURN v_salario;
    EXCEPTION
        WHEN NO_DATA_FOUND THEN
            RETURN NULL;
    END obter_salario;

END pkg_gerencia_empregados;
/</code></pre>

                        <p class="mt-6 font-semibold text-gray-200">Passo 4: Como Usar o Package</p>
                        <p class="mt-1 text-gray-400 text-sm">Você chama os procedimentos e funções usando a sintaxe `nome_do_package.nome_do_metodo`.</p>
                        <pre class="mt-2 bg-gray-900 p-3 rounded-lg text-sm overflow-x-auto"><code>-- Lembre-se de habilitar a saída com: SET SERVEROUTPUT ON;
DECLARE
    v_salario_atual NUMBER;
BEGIN
    -- Adicionando um empregado
    pkg_gerencia_empregados.adicionar_empregado(p_nome => 'Carlos Souza', p_salario => 7000);
    
    -- Obtendo o salário (supondo que o ID dele seja 1)
    v_salario_atual := pkg_gerencia_empregados.obter_salario(p_id_empregado => 1);
    
    DBMS_OUTPUT.PUT_LINE('O salário do empregado 1 é: ' || v_salario_atual);
END;
/

-- Verificando o resultado na tabela
SELECT * FROM empregados;</code></pre>
                    </div>
                </section>
            </div>
            <div id="no-results" class="hidden text-center py-10">
                <h3 class="text-xl font-semibold text-gray-300">Nenhum comando encontrado</h3>
                <p class="text-gray-500 mt-2">Tente refinar sua busca.</p>
            </div>
        </main>
    </div>

    <footer class="w-full bg-gray-800 border-t border-gray-700 p-4 text-center">
        <p class="text-gray-400 text-sm">
            Este é um projeto de código aberto.
            <a href="https://github.com/SEU-USUARIO/SEU-REPOSITORIO" target="_blank" rel="noopener noreferrer" class="font-semibold text-green-400 hover:underline">
                Contribua no GitHub!
            </a>
        </p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const sqlKeywords = new Set([
                'ADD', 'ADD_MONTHS', 'AFTER', 'ALL', 'ALTER', 'ALWAYS', 'AND', 'ANY', 'AS', 'ASC', 'AVG', 
                'BEFORE', 'BEGIN', 'BETWEEN', 'BODY', 'BY', 
                'CASE', 'CAST', 'CHECK', 'COMMIT', 'CONSTANT', 'CONSTRAINT', 'CONVERT', 'COUNT', 'CREATE', 'CURSOR', 
                'DATE', 'DECLARE', 'DECODE', 'DEFAULT', 'DELETE', 'DESC', 'DISTINCT', 'DROP', 'DUAL', 
                'EACH', 'ELSE', 'END', 'EXCEPTION', 'EXECUTE', 'EXISTS', 'EXTRACT', 
                'FOR', 'FOREIGN', 'FROM', 'FULL', 'FUNCTION', 
                'GENERATED', 'GRANT', 'GREATEST', 'GROUP', 
                'HAVING', 
                'IDENTITY', 'IMMEDIATE', 'IN', 'INDEX', 'INNER', 'INSERT', 'INSTR', 'INTEGER', 'INTERSECT', 'INTO', 'IS', 
                'JOIN', 
                'KEY', 
                'LAST_DAY', 'LEAST', 'LEFT', 'LENGTH', 'LEVEL', 'LIKE', 'LOWER', 
                'MAX', 'MERGE', 'MIN', 'MINUS', 'MOD', 'MONTHS_BETWEEN', 
                'NEW', 'NEXT_DAY', 'NOT', 'NOT NULL', 'NO_DATA_FOUND', 'NULL', 'NUMBER', 'NVL', 'NVL2', 
                'OF', 'OLD', 'ON', 'OR', 'ORDER', 'OTHERS', 'OUTER', 
                'PACKAGE', 'PRAGMA', 'PRIMARY', 'PROCEDURE', 'PUBLIC', 
                'RECORD', 'REFERENCES', 'RENAME', 'REPLACE', 'RETURN', 'REVOKE', 'RIGHT', 'ROLLBACK', 'ROUND', 'ROW', 'ROWNUM', 
                'SAVEPOINT', 'SELECT', 'SET', 'SOME', 'SUBSTR', 'SUBSTRB', 'SUM', 'SYSDATE', 
                'TABLE', 'THEN', 'TO', 'TO_CHAR', 'TO_DATE', 'TO_NUMBER', 'TRIGGER', 'TRUNC', 'TRUNCATE', 'TYPE', 
                'UNION', 'UNIQUE', 'UPDATE', 'UPPER', 'USER', 'USING', 
                'VALUES', 'VARCHAR2', 'VIEW', 
                'WHEN', 'WHERE', 'WITH'
            ]);

            function highlightCustomTokens() {
                const codeBlocks = document.querySelectorAll('pre code');
                const regex = /\b([a-zA-Z_]\w*)\b/g;

                codeBlocks.forEach(block => {
                    // Evita re-aplicar o highlight
                    if (block.dataset.highlighted) {
                        return;
                    }

                    const originalText = block.innerHTML;
                    const highlightedText = originalText.replace(regex, (match) => {
                        if (sqlKeywords.has(match.toUpperCase())) {
                            return match;
                        }
                        return `<span class="token-exemplo">${match}</span>`;
                    });
                    block.innerHTML = highlightedText;
                    block.dataset.highlighted = 'true';
                });
            }

            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('.content-section');
            const searchInput = document.getElementById('searchInput');
            const commandCards = document.querySelectorAll('.command-card');
            const noResults = document.getElementById('no-results');

            function updateActiveLink(targetId) {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if(link.getAttribute('href') === `#${targetId}`) {
                        link.classList.add('active');
                    }
                });
            }

            function showSection(targetId) {
                sections.forEach(section => {
                    section.classList.toggle('hidden', section.id !== targetId);
                });
                updateActiveLink(targetId);
            }

            const navigation = document.getElementById('navigation');
            navigation.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    e.preventDefault();
                    const targetId = e.target.getAttribute('href').substring(1);
                    showSection(targetId);
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            });

            searchInput.addEventListener('keyup', function() {
                const searchTerm = searchInput.value.toLowerCase().trim();
                let resultsFound = false;

                if (searchTerm === '') {
                    showSection('dml');
                    commandCards.forEach(card => card.style.display = 'block');
                    noResults.classList.add('hidden');
                    return;
                }

                sections.forEach(section => section.classList.remove('hidden'));
                
                commandCards.forEach(card => {
                    const cardText = card.textContent.toLowerCase();
                    if (cardText.includes(searchTerm)) {
                        card.style.display = 'block';
                        resultsFound = true;
                    } else {
                        card.style.display = 'none';
                    }
                });

                noResults.classList.toggle('hidden', resultsFound);

                // Re-aplica o highlight, pois a busca pode ter alterado o DOM de forma a perder o highlight
                highlightCustomTokens();
            });
            
            showSection('dml');
            highlightCustomTokens();
        });
    </script>
</body>
</html>
